{"version":3,"file":"bundle.js","sources":["../src/grabbable.js","../src/nav-pointer.js","../src/shader-frog.js","../src/client-config.js","../src/game.js","../src/client-socket.js","../src/load-spinner.js","../src/main.js"],"sourcesContent":["function findComponent(componentName)\n{\n\treturn document.querySelector(`[${componentName}]`).components[componentName];\n}\n//Moves the subject to a new parent while preserving its transform in the world\nfunction reparentObject3D(subject, newParent)\n{\n\tsubject.updateMatrixWorld();\n\tsubject.matrix.copy(subject.matrixWorld);\n\tsubject.applyMatrix(new THREE.Matrix4().getInverse(newParent.matrixWorld));\n\tnewParent.add(subject);\n}\n// Copys the world transforms between objects even if the have different parents\nvar copyTransform = (function()\n{\n\tvar scratchMat = new THREE.Matrix4();\n\treturn function(source, destination)\n\t{\n\t\tdestination.matrix.copy(source.matrixWorld);\n\t\tdestination.applyMatrix(scratchMat.getInverse(destination.parent.matrixWorld));\n\t}\n})();\nfunction toVector(o)\n{\n\treturn new THREE.Vector3(o.x, o.y, o.z);\n}\nfunction toList(collection)\n{\n\tvar list = [];\n\tfor(var i=0;i<collection.length;i++)\n\t{\n\t\tlist.push(collection[i]);\n\t}\n\treturn list;\n}\nfunction addDot(el, position, radius, color)\n{\n\tcolor = color || \"red\";\n\tvar dot = document.createElement(\"a-sphere\");\n\tdot.setAttribute(\"radius\", radius);\n\tdot.setAttribute(\"position\", position);\n\tdot.setAttribute(\"color\", color);\n\tel.appendChild(dot);\n}\nfunction directionLocalToWorld(object, localDirection)\n{\n\treturn localDirection.transformDirection(object.matrixWorld);\n}\n\nexport default (function grabbable(){AFRAME.registerComponent(\"grabbable\", {\n\tschema: {\n\t\torigin: { type: \"selector\" }\n\t},\n\n\tinit: function()\n\t{\n\t\tvar self = this;\n\t\tvar isDragging = false;\n\t\tself.originEl = this.data.origin || this.el;\n\t\tself.proxyObject = null;\n\n\t\tself.el.classList.add(\"interactive\");\n\n\t\tself.el.addEventListener(\"mousedown\", grab);\n    \n    if(AFRAME.utils.device.isMobile())self.el.addEventListener(\"click\", function(e){\n       grab(e);\n       setTimeout(function(e){\n         document.querySelector('#cam-cursor').setAttribute('material','color: purple');\n         release(e);\n         setTimeout(function(e){\n           document.querySelector('#cam-cursor').setAttribute('material','color: crimson');\n         },500);\n       },5000);\n    });\n    \n    function grab(e){\n      //console.log(\"GRABBING\");\n\t\t\te.cancelBubble = true;\n\t\t\tif(isDragging) return;\n      \n\t\t\tisDragging = true;\n\n\t\t\tvar cursor = e.detail.cursorEl;\n\t\t\tif(cursor == self.el.sceneEl) cursor = document.querySelector(\"[camera]\"); //This handles the scenario where the user isn't using motion controllers\n      // avoid seeing flickering at origin during reparenting\n      self.el.setAttribute('visible', false);\n      setTimeout(function(){\n        self.el.setAttribute('visible', true);\n      },20);\n\n\t\t\tcreateProxyObject(cursor.object3D);\n\t\t\t\n\t\t\tself.originEl.emit(\"grabStart\", e);\n\t\t\tself.originEl.addState(\"moving\");\n\t\t}\n\n\t\tself.el.addEventListener(\"mouseup\", release);\n    \n    function release(e)\n\t\t{\n\t\t\tif(isDragging)\n\t\t\t{\n\t\t\t\tisDragging = false;\n\n\t\t\t\tif(self.proxyObject)\n\t\t\t\t{\n\t\t\t\t\tself.proxyObject.parent.remove(self.proxyObject);\n\t\t\t\t\tself.proxyObject = null;\n\t\t\t\t}\n\n\t\t\t\tself.originEl.setAttribute(\"position\", self.originEl.getAttribute(\"position\")); //seems pointless, but will force the event system to notify subscribers\n\t\t\t\tself.originEl.setAttribute(\"rotation\", self.originEl.getAttribute(\"rotation\")); //seems pointless, but will force the event system to notify subscribers\n\n\t\t\t\tself.originEl.emit(\"grabEnd\", e);\n\t\t\t\tself.originEl.removeState(\"moving\");\n\t\t\t}\n\t\t}\n\n\t\tfunction createProxyObject(cursorObject)\n\t\t{\n\t\t\tself.proxyObject = new THREE.Object3D();\n      self.originEl.visible = false;\n      //handle object momentary flicker at world origin\n      setTimeout(function(){\n        self.originEl.visible = true;\n      },1000);\n\t\t\tcursorObject.add(self.proxyObject);\n\t\t\tcopyTransform(self.originEl.object3D, self.proxyObject);\t\t\t\t\n\t\t}\n\t},\n\n\ttick: function()\n\t{\n\t\tvar self = this;\n\t\tif(self.proxyObject)\n\t\t{\n\t\t\tcopyTransform(self.proxyObject, self.originEl.object3D);\n\t\t\tself.originEl.setAttribute(\"position\", self.originEl.getAttribute(\"position\")); //seems pointless, but will force the event system to notify subscribers\n\t\t\t\tself.originEl.setAttribute(\"rotation\", self.originEl.getAttribute(\"rotation\")); //seems pointless, but will force the event system to notify subscribers\n\t\t}\n\t}\n})\n  \n})()","export default (function navpointer(){\n\n  AFRAME.registerComponent('nav-pointer', {\n  init: function () {\n    const el = this.el;\n// On click, send the NPC to the target location.\n    el.addEventListener('click',e=>{\n      const ctrlEl = el.sceneEl.querySelector('[nav-agent]');\n      if(ctrlEl) ctrlEl.setAttribute('nav-agent', {\n        active: true,\n        destination: e.detail.intersection.point\n      });\n    });\n    el.addEventListener('mouseenter',e=>{\n      el.setAttribute('material', {color: 'green'});\n    });\n    el.addEventListener('mouseleave',e=>{\n      el.setAttribute('material', {color: 'crimson'})\n    });\n    \n    el.addEventListener('mousedown',e=>{\n      //console.log(e);\n    });\n \n    // Refresh the raycaster after models load.\n    el.sceneEl.addEventListener('object3dset',e=>{\n      this.el.components.raycaster.refreshObjects();\n    });\n  }\n});\n  \n})()","var shaders = {};\nimport Polkadot_Shader from './Polkadot_Shader.json';\nshaders['Polkadot_Shader']=Polkadot_Shader;\nimport Sun_Shader from './Sun_Shader.json';\nshaders['Sun_Shader']=Sun_Shader;\nimport Jelly_Shader from './Jelly_Shader.json';\nshaders['Jelly_Shader']=Jelly_Shader;\nimport Green_Dance_Shader from './Green_Dance_Shader.json';\nshaders['Green_Dance_Shader']=Green_Dance_Shader;\nimport Cosmic_Shader from './Cosmic_Shader.json';\nshaders['Cosmic_Shader']=Cosmic_Shader;\n\nexport default(function shaderfrog(){\n  \n\nvar defaultThreeUniforms = [\n    'normalMatrix', 'viewMatrix', 'projectionMatrix', 'position', 'normal',\n    'modelViewMatrix', 'uv', 'uv2', 'modelMatrix'\n];\n\nfunction ShaderRuntime() {}\n\nShaderRuntime.prototype = {\n\n    mainCamera: null,\n    cubeCameras: {},\n\n    reserved: { time: null, cameraPosition: null },\n\n    umap: {\n        float: { type: 'f', value: 0 },\n        int: { type: 'i', value: 0 },\n        vec2: { type: 'v2', value() { return new THREE.Vector2(); } },\n        vec3: { type: 'v3', value() { return new THREE.Vector3(); } },\n        vec4: { type: 'v4', value() { return new THREE.Vector4(); } },\n        samplerCube: { type: 't' },\n        sampler2D: { type: 't' }\n    },\n\n    getUmap( type ) {\n        let value = this.umap[ type ].value;\n        return typeof value === 'function' ? value() : value;\n    },\n\n    registerCamera( camera ) {\n\n        if( !( camera instanceof THREE.Camera ) ) {\n            throw new Error( 'Cannot register a non-camera as a camera!' );\n        }\n\n        this.mainCamera = camera;\n\n    },\n\n    registerCubeCamera( name, camera ) {\n\n        if( !camera.renderTarget ) {\n            throw new Error( 'Cannot register a non-camera as a camera!' );\n        }\n\n        this.cubeCameras[ name ] = camera;\n\n    },\n\n    unregisterCamera( name ) {\n\n        if( name in this.cubeCameras ) {\n\n            delete this.cubeCameras[ name ];\n            \n        } else if( name === this.mainCamera ) {\n\n            delete this.mainCamera;\n\n        } else {\n\n            throw new Error( 'You never registered camera ' + name );\n\n        }\n\n    },\n\n    updateSource( identifier, config, findBy ) {\n\n        findBy = findBy || 'name';\n\n        if( !this.shaderTypes[ identifier ] ) {\n            throw new Error( 'Runtime Error: Cannot update shader ' + identifier + ' because it has not been added.' );\n        }\n\n        let newShaderData = this.add( identifier, config ),\n            shader, x;\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader[ findBy ] === identifier ) {\n                extend( shader.material, omit( newShaderData, 'id' ) );\n                shader.material.needsUpdate = true;\n            }\n        }\n\n    },\n\n    renameShader( oldName, newName ) {\n\n        let x, shader;\n\n        if( !( oldName in this.shaderTypes ) ) {\n            throw new Error('Could not rename shader ' + oldName + ' to ' + newName + '. It does not exist.');\n        }\n\n        this.shaderTypes[ newName ] = this.shaderTypes[ oldName ];\n        delete this.shaderTypes[ oldName ];\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader.name === oldName ) {\n                shader.name = newName;\n            }\n        }\n\n    },\n\n    get( identifier ) {\n\n        let shaderType = this.shaderTypes[ identifier ];\n\n        if( !shaderType.initted ) {\n\n            this.create( identifier );\n        }\n\n        return shaderType.material;\n\n    },\n\n    add( shaderName, config ) {\n\n        let newData = clone( config ),\n            uniform;\n        newData.fragmentShader = config.fragment;\n        newData.vertexShader = config.vertex;\n        delete newData.fragment;\n        delete newData.vertex;\n\n        for( var uniformName in newData.uniforms ) {\n            uniform = newData.uniforms[ uniformName ];\n            if( uniform.value === null ) {\n                newData.uniforms[ uniformName ].value = this.getUmap( uniform.glslType );\n            }\n        }\n        \n        if( shaderName in this.shaderTypes ) {\n            // maybe not needed? too sleepy, need document\n            extend( this.shaderTypes[ shaderName ], newData );\n        } else {\n            this.shaderTypes[ shaderName ] = newData;\n        }\n\n        return newData;\n\n    },\n\n    create( identifier ) {\n\n        let shaderType = this.shaderTypes[ identifier ];\n      \n        delete shaderType.id;\n\n        shaderType.material = new THREE.RawShaderMaterial( shaderType );\n\n        this.runningShaders.push( shaderType );\n\n        shaderType.init && shaderType.init( shaderType.material );\n        shaderType.material.needsUpdate = true;\n\n        shaderType.initted = true;\n\n        return shaderType.material;\n\n    },\n\n    updateRuntime( identifier, data, findBy ) {\n\n        findBy = findBy || 'name';\n\n        let shader, x, uniformName, uniform;\n\n        // This loop does not appear to be a slowdown culprit\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader[ findBy ] === identifier ) {\n                for( uniformName in data.uniforms ) {\n\n                    if( uniformName in this.reserved ) {\n                        continue;\n                    }\n\n                    if( uniformName in shader.material.uniforms ) {\n\n                        uniform = data.uniforms[ uniformName ];\n\n                        // this is nasty, since the shader serializes\n                        // CubeCamera model to string. Maybe not update it at\n                        // all?\n                        if( uniform.type === 't' && typeof uniform.value === 'string' ) {\n                            uniform.value = this.cubeCameras[ uniform.value ].renderTarget;\n                        }\n\n                        shader.material.uniforms[ uniformName ].value = data.uniforms[ uniformName ].value;\n                    }\n                }\n            }\n        }\n\n    },\n\n    // Update global shader uniform values\n    updateShaders( time, obj ) {\n\n        let shader, x;\n\n        obj = obj || {};\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n\n            for( let uniform in obj.uniforms ) {\n                if( uniform in shader.material.uniforms ) {\n                    shader.material.uniforms[ uniform ].value = obj.uniforms[ uniform ];\n                }\n            }\n\n            if( 'cameraPosition' in shader.material.uniforms && this.mainCamera ) {\n\n                shader.material.uniforms.cameraPosition.value = this.mainCamera.position.clone();\n\n            }\n\n            if( 'viewMatrix' in shader.material.uniforms && this.mainCamera ) {\n\n                shader.material.uniforms.viewMatrix.value = this.mainCamera.matrixWorldInverse;\n\n            }\n\n            if( 'time' in shader.material.uniforms ) {\n\n                shader.material.uniforms.time.value = time;\n\n            }\n\n        }\n\n    },\n\n    shaderTypes: shaders,\n\n    runningShaders: []\n\n};\n\n// Convenience methods so we don't have to include underscore\nfunction extend() {\n    let length = arguments.length,\n        obj = arguments[ 0 ];\n\n    if( length < 2 ) {\n        return obj;\n    }\n\n    for( let index = 1; index < length; index++ ) {\n        let source = arguments[ index ],\n            keys = Object.keys( source || {} ),\n            l = keys.length;\n        for( let i = 0; i < l; i++ ) {\n            let key = keys[i];\n            obj[ key ] = source[ key ];\n        }\n    }\n\n    return obj;\n}\n\nfunction clone( obj ) {\n    return extend( {}, obj );\n}\n\nfunction omit( obj, ...keys ) {\n    let cloned = clone( obj ), x, key;\n    for( x = 0; key = keys[ x++ ]; ) {\n        delete cloned[ key ];\n    }\n    return cloned;\n}\n  \nAFRAME.registerSystem('shader-frog', {\n  init:function(){\n    this.frog_runtime = new ShaderRuntime();\n    this.clock = new THREE.Clock();\n    var self = this;\n        \n    var scene = document.querySelector('a-scene');\n    if (scene.hasLoaded) {\n      registerCamera().bind(this);;\n    } else {\n      scene.addEventListener('loaded', registerCamera);\n    }\n    function registerCamera () {\n       var camera = document.querySelector(\"a-scene\").systems[\"camera\"];\n       if(camera && camera.sceneEl && camera.sceneEl.camera){\n         camera = camera.sceneEl.camera;\n         self.frog_runtime.registerCamera(camera);\n       }\n    }\n  },\n  tick: function (t) {\n    this.frog_runtime.updateShaders( this.clock.getElapsedTime() );\n  }\n});\nAFRAME.registerComponent('shader-frog',{\n  schema:{\n    name:{type:\"string\"}\n  },\n  init: function(){\n    this.originalMaterial = this.el.getObject3D('mesh').material;\n    console.log(\"INIT SHADER FROG!\");\n    console.log(shaders);\n    this.shaderData = shaders[this.data.name];\n  },\n  update: function(){\n    this.system.frog_runtime.add(this.data.name,this.shaderData);\n    var material = this.system.frog_runtime.get(this.data.name);\n    this.el.getObject3D('mesh').material = material;\n  },\n  remove: function(){\n    this.el.getObject3D('mesh').material = this.originalMaterial;\n  }\n});\n  \n})()\n","export default {\n gameName:\"The Kingdom of Castle Bridge\",\n // https://emojipedia.org/  leave as \"\" if you want no emoji\n emoji:\"ðŸ°\",\n // https://www141.lunapic.com/editor/  http://icoconvert.com/\n favicon:\"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2Fcoin.gif?1543018269225\",\n theme:{\n  // https://fonts.google.com/ examples: Kirang Haerang, Megrim, Permanent Marker, Orbitron, Monoton\n  fontFamily:\"New Rocker\",\n  titleFontColor:\"#f2d15c\",\n  formFontColor:\"white\",\n  formColor:\"#0f3917\",\n  overlayColor:\"rgba(0,0,0, 0.7)\",\n  fontSize:2\n },\n avatar:{\n  models:[\n    {\n      url:\"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_orange.glb?1543069720785\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'orange',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"red\",outerColor: \"white\"}\n    },\n    {\n      url:\"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_blue.glb?1543070759125\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'blue',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"blue\",outerColor: \"white\"}\n    },\n    {\n      url:\"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2FDragon_eyes.glb?1543064526277\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'black',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"black\",outerColor: \"white\"}\n    } \n    ],\n  buttonFaces: [\n    \"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_orange.png?1543070170738\",\n    \"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_blue.png?1543070754969\",\n    \"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2Fdragon.png?1543064467876\",\n  ],\n  buttonColor: '#fff',\n  speed: 140\n },\n sounds:{\n  playerJoined: {url:'https://cdn.glitch.com/46b18376-7fa5-4e04-bd26-296207b88a74%2Ffanfare_with_timpani.mp3?1546619687984'},\n  playerLeft: {url:'https://cdn.glitch.com/7f007e49-e78d-40b6-964d-097554282381%2Ffarewell.mp3?1545526194837'},\n  yay: {url:'https://cdn.glitch.com/162b879e-fd42-40d9-8519-671d783b8c70%2Fyay.mp3?1538839840045',loop:false,volume:0.8},\n  splashIn: {url:'https://cdn.glitch.com/b10e1289-ada6-412c-a444-83b2ee39c4a0%2FsplashIn.mp3?1544623314600',loop:false,volume:0.8},\n  splashOut: {url:'https://cdn.glitch.com/b10e1289-ada6-412c-a444-83b2ee39c4a0%2FsplashOut.mp3?1544623312237',loop:false,volume:0.8},\n  hyperspace: {url:'https://cdn.glitch.com/7f007e49-e78d-40b6-964d-097554282381%2Fhyperspace.mp3?1545441819724',loop:false,volume:1.0} \n },\n // https://github.com/feiss/aframe-environment-component\n environment:{\n  preset:\"default\",\n  seed:0.3,\n  shadow:true,\n  playArea:1, \n  shadow:true,\n  shadowSize:10,\n  dressing:\"\",\n  dressingAmount:10, \n  dressingColor:\"\",\n  dressingScale:15,\n  dressingVariance:\"20 30 40\",\n  dressingUniformScale:false,\n  fog:0.4, \n  flatShading:false,\n  skyType:\"\", \n  horizonColor:\"\", \n  skyColor:\"\",\n  ground:\"\",\n  groundYScale:5,\n  groundTexture:\"walkernoise\",\n  groundColor:\"#032d26\",\n  groundColor2:\"#564d19\",\n  grid:\"\",\n  gridColor:\"\",\n  lighting:\"\",\n  lightPosition:\"\"\n },\n //Soundcloud track numbers from share/embed code\n bgm:{\n  songs: [95999380],\n  volume: 0.05,\n  playAll: true,\n  initialDelay: 5000\n },\n releasePointerLockOnUI: true,\n //SEE REF. http://keycode.info/\n keys:{\n  toggleUI:'Equal',\n  nextSong:'KeyP',\n  toggleMute:'Digit0',\n  toggleCursor:'KeyC'\n },\n showCursor:false,\n //Run printVoices() in the game browser console\n voice:{\n   name:'Oliver',\n   // from 0.1 to 10\n   rate: 1,\n   // from 0 to 2\n   pitch: 1,\n   // from 0 to 1\n   volume: 1,\n   // delay in milliseconds \n   welcomeDelay: 2000\n },\n physics:{\n   //This gravity affects the players\n   gravity: -9.8,\n   maxGrabDistance: 40,\n   //These objects are not affected by gravity or collisions, but you can grab and move them\n   // https://github.com/aframevr/aframe/blob/master/docs/components/geometry.md\n   // These objects require a unique name.\n   objects:[\n      {name:'Blue Sphere', geometry:'primitive: sphere; radius: 2',position:'50 75 -40',color:'#00f'},\n      {name:'Red Sphere', geometry:'primitive: sphere; radius: 2',position:'60 75 -40',color:'#f00'},\n      {name:'Green Sphere', geometry:'primitive: sphere; radius: 2',position:'70 75 -40',color:'#0f0'}\n    ]\n },\n collectibles:{\n   itemDefs:[\n     {type:'doge_coin',scale:'0.4 0.4 0.4',rotation:'0 0 0',threshold:3,\n      positions:['15 0 -30','-15 0 -30','12 0 -35','-12 0 -35','9 0 -40','-9 0 -40','6 0 -45','-6 0 -45',\n                '15 0 -65','-15 0 -65','12 0 -60','-12 0 -60','9 0 -55','-9 0 -55','6 0 -50','-6 0 -50'],\n      url:'https://cdn.glitch.com/14597f75-728f-4d7e-bbd2-202118ee70e0%2Fdoge_coin.glb?1542836614183',\n      collectSound:{url:'https://cdn.glitch.com/14597f75-728f-4d7e-bbd2-202118ee70e0%2Fcollect_bark_.mp3?1542837713162',volume:1},\n      collectParticles:{type:'magic',color:'#fff',scale:4},\n      callback:{name:'addPoints',params:{amount:100}},animation:{type:'rotY'}\n     }  \n   ]\n },\n readouts:{\n   itemDefs:[\n     {type:'scoreboard',scale:'16 10 0.1',color:'#a80003',\n      positions:['-79 48 -30','50 48 -30'],\n      rotations:['0 30 0','0 30 0'],\n      textAttributes:{value:'Welcome to\\nCastle Bridge',color:'white',scale:'9 9 1',align:'center',shader:'msdf',\n                      position:'0 -1.5 0',\n                      font:'https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/newrocker/NewRocker-Regular.json'}\n     },\n     {type:'instructions',scale:'4 1.5 0.1',color:'#a80003',\n      positions:['1 2 -35'],\n      rotations:['0 0 0'],\n      textAttributes:{value:\n`Ye Olde Game Instructions:\n=========================\n1) Collect Doge Coins to earn credits.\n2) Spend your credits to ride the teleporters.\n3) Be Friendly!`,color:'white',scale:'0.7 0.7 1',align:'left',shader:'msdf',\n                      position:'-1.5 0 0',\n                      font:'https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/newrocker/NewRocker-Regular.json'}\n     }  \n   ]\n },\n mobile:{\n   thruster_icon: \"https://cdn.glitch.com/162b879e-fd42-40d9-8519-671d783b8c70%2Fjump_fly_btn.png\",\n   joystick_outer_color: \"rgba(5, 31, 101, 0.2)\",\n   joystick_inner_color: \"rgba(5, 31, 101, 0.4)\"\n },\n vr: false\n}","import config from './client-config';\nexport default CS1=>{AFRAME.registerComponent('game', {\n  schema: {type: 'string'},\n  init: function () {\n    CS1.game = this;\n    var stringToLog = this.data;\n    console.log(stringToLog);\n    this.hasBegun = false;\n    this.config = config;\n    document.querySelector('#scene-container').style.display='block';\n    document.querySelector('#loading-screen').style.display='none';\n  },\n  tick: function (time,dt) {\n    \n  }\n});}","export default CS1=>{\n  let socket = CS1.socket = io();\n  socket.on('connect',()=>{\n    console.log(`socket connected with id: ${socket.id}`);\n    console.log('Client.js can initialize my playerData now.');\n    socket.playerData = {position:{},rotation:{},faceIndex:0};\n    socket.lastPlayerData = {position:{},rotation:{},faceIndex:0};\n  });\n}","export default(()=>{\n  window.onload = e=>{\n  let loadSpinner = document.createElement('div');\n  loadSpinner.className = 'lds-grid';\n  for(let i=0;i<9;i++){\n    loadSpinner.appendChild(document.createElement('div'));\n  } \n  loadSpinner.style.left = window.innerWidth/2 - 32 + 'px';\n  let loadingScreen =  document.querySelector('#loading-screen');\n  loadingScreen.style.width = window.innerWidth + 'px';\n  loadingScreen.style.height = window.innerHeight + 'px';\n  document.querySelector('#loading-screen').appendChild(loadSpinner);\n  }\n})()","let CS1 = window.CS1 = {};\nimport grabbable from './grabbable';\nimport navpointer from \"./nav-pointer\";\nimport shaderfrog from \"./shader-frog\";\nimport game from \"./game\";\ngame(CS1);\nimport socket from './client-socket';\nsocket(CS1);\nimport './main.css';\nimport loadSpinner from \"./load-spinner\";\nimport './load-spinner.css';\n\nconsole.log(\"FIRING UP THE MAINS!\");\n\n  \n\n  "],"names":["copyTransform","scratchMat","THREE","Matrix4","source","destination","matrix","copy","matrixWorld","applyMatrix","getInverse","parent","AFRAME","registerComponent","schema","origin","type","init","grab","e","cancelBubble","isDragging","cursor","detail","cursorEl","self","el","sceneEl","document","querySelector","setAttribute","setTimeout","createProxyObject","object3D","originEl","emit","addState","release","proxyObject","remove","getAttribute","removeState","cursorObject","Object3D","visible","add","this","data","classList","addEventListener","utils","device","isMobile","tick","ctrlEl","active","intersection","point","color","components","raycaster","refreshObjects","shaders","Polkadot_Shader","Sun_Shader","Jelly_Shader","Green_Dance_Shader","Cosmic_Shader","ShaderRuntime","extend","length","arguments","obj","index","keys","Object","l","i","key","clone","omit","x","cloned","prototype","mainCamera","cubeCameras","reserved","time","cameraPosition","umap","float","value","int","vec2","[object Object]","Vector2","vec3","Vector3","vec4","Vector4","samplerCube","sampler2D","camera","Camera","Error","name","renderTarget","identifier","config","findBy","shaderTypes","shader","newShaderData","runningShaders","material","needsUpdate","oldName","newName","shaderType","initted","create","shaderName","uniform","newData","fragmentShader","fragment","vertexShader","vertex","uniformName","uniforms","getUmap","glslType","id","RawShaderMaterial","push","position","viewMatrix","matrixWorldInverse","registerSystem","registerCamera","systems","frog_runtime","clock","Clock","scene","hasLoaded","bind","t","updateShaders","getElapsedTime","originalMaterial","getObject3D","console","log","shaderData","update","system","get","gameName","emoji","favicon","theme","fontFamily","titleFontColor","formFontColor","formColor","overlayColor","fontSize","avatar","models","url","scale","yOffset","animations","idle","msg","offset","thruster","innerColor","outerColor","buttonFaces","buttonColor","speed","sounds","playerJoined","playerLeft","yay","loop","volume","splashIn","splashOut","hyperspace","environment","preset","seed","shadow","playArea","shadowSize","dressing","dressingAmount","dressingColor","dressingScale","dressingVariance","dressingUniformScale","fog","flatShading","skyType","horizonColor","skyColor","ground","groundYScale","groundTexture","groundColor","groundColor2","grid","gridColor","lighting","lightPosition","bgm","songs","playAll","initialDelay","releasePointerLockOnUI","toggleUI","nextSong","toggleMute","toggleCursor","showCursor","voice","rate","pitch","welcomeDelay","physics","gravity","maxGrabDistance","objects","geometry","collectibles","itemDefs","rotation","threshold","positions","collectSound","collectParticles","callback","params","amount","animation","readouts","rotations","textAttributes","align","font","mobile","thruster_icon","joystick_outer_color","joystick_inner_color","vr","CS1","game","stringToLog","hasBegun","style","display","dt","socket","io","on","playerData","faceIndex","lastPlayerData","window","onload","loadSpinner","createElement","className","appendChild","left","innerWidth","loadingScreen","width","height","innerHeight"],"mappings":"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"}