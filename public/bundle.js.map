{"version":3,"file":"bundle.js","sources":["../src/load-spinner.js","../src/grabbable.js","../src/nav-pointer.js","../src/shader-frog.js","../src/ring-dial.js","../src/meter.js","../src/hud.js","../src/client-config.js","../src/game.js","../src/client-socket.js","../src/login.js","../src/main.js"],"sourcesContent":["export default(()=>{\n\n  window.addEventListener('load', function () {\n    console.log('window loaded make spinner');\n    let loadSpinner = document.createElement('div');\n    loadSpinner.className = 'lds-grid';\n    for(let i=0;i<9;i++){\n      loadSpinner.appendChild(document.createElement('div'));\n    } \n    loadSpinner.style.left = window.innerWidth/2 - 32 + 'px';\n    let loadingScreen =  document.querySelector('#loading-screen');\n    loadingScreen.style.width = window.innerWidth + 'px';\n    loadingScreen.style.height = window.innerHeight + 'px';\n    loadingScreen.appendChild(loadSpinner);\n  }, false);\n  \n})()","function findComponent(componentName)\n{\n\treturn document.querySelector(`[${componentName}]`).components[componentName];\n}\n//Moves the subject to a new parent while preserving its transform in the world\nfunction reparentObject3D(subject, newParent)\n{\n\tsubject.updateMatrixWorld();\n\tsubject.matrix.copy(subject.matrixWorld);\n\tsubject.applyMatrix(new THREE.Matrix4().getInverse(newParent.matrixWorld));\n\tnewParent.add(subject);\n}\n// Copys the world transforms between objects even if the have different parents\nvar copyTransform = (function()\n{\n\tvar scratchMat = new THREE.Matrix4();\n\treturn function(source, destination)\n\t{\n\t\tdestination.matrix.copy(source.matrixWorld);\n\t\tdestination.applyMatrix(scratchMat.getInverse(destination.parent.matrixWorld));\n\t}\n})();\nfunction toVector(o)\n{\n\treturn new THREE.Vector3(o.x, o.y, o.z);\n}\nfunction toList(collection)\n{\n\tvar list = [];\n\tfor(var i=0;i<collection.length;i++)\n\t{\n\t\tlist.push(collection[i]);\n\t}\n\treturn list;\n}\nfunction addDot(el, position, radius, color)\n{\n\tcolor = color || \"red\";\n\tvar dot = document.createElement(\"a-sphere\");\n\tdot.setAttribute(\"radius\", radius);\n\tdot.setAttribute(\"position\", position);\n\tdot.setAttribute(\"color\", color);\n\tel.appendChild(dot);\n}\nfunction directionLocalToWorld(object, localDirection)\n{\n\treturn localDirection.transformDirection(object.matrixWorld);\n}\n\nexport default (function grabbable(){AFRAME.registerComponent(\"grabbable\", {\n\tschema: {\n\t\torigin: { type: \"selector\" }\n\t},\n\n\tinit: function()\n\t{\n\t\tvar self = this;\n\t\tvar isDragging = false;\n\t\tself.originEl = this.data.origin || this.el;\n\t\tself.proxyObject = null;\n\n\t\tself.el.classList.add(\"interactive\");\n\n\t\tself.el.addEventListener(\"mousedown\", grab);\n    \n    if(AFRAME.utils.device.isMobile())self.el.addEventListener(\"click\", function(e){\n       grab(e);\n       setTimeout(function(e){\n         document.querySelector('#cam-cursor').setAttribute('material','color: purple');\n         release(e);\n         setTimeout(function(e){\n           document.querySelector('#cam-cursor').setAttribute('material','color: crimson');\n         },500);\n       },5000);\n    });\n    \n    function grab(e){\n      //console.log(\"GRABBING\");\n\t\t\te.cancelBubble = true;\n\t\t\tif(isDragging) return;\n      \n\t\t\tisDragging = true;\n\n\t\t\tvar cursor = e.detail.cursorEl;\n\t\t\tif(cursor == self.el.sceneEl) cursor = document.querySelector(\"[camera]\"); //This handles the scenario where the user isn't using motion controllers\n      // avoid seeing flickering at origin during reparenting\n      self.el.setAttribute('visible', false);\n      setTimeout(function(){\n        self.el.setAttribute('visible', true);\n      },20);\n\n\t\t\tcreateProxyObject(cursor.object3D);\n\t\t\t\n\t\t\tself.originEl.emit(\"grabStart\", e);\n\t\t\tself.originEl.addState(\"moving\");\n\t\t}\n\n\t\tself.el.addEventListener(\"mouseup\", release);\n    \n    function release(e)\n\t\t{\n\t\t\tif(isDragging)\n\t\t\t{\n\t\t\t\tisDragging = false;\n\n\t\t\t\tif(self.proxyObject)\n\t\t\t\t{\n\t\t\t\t\tself.proxyObject.parent.remove(self.proxyObject);\n\t\t\t\t\tself.proxyObject = null;\n\t\t\t\t}\n\n\t\t\t\tself.originEl.setAttribute(\"position\", self.originEl.getAttribute(\"position\")); //seems pointless, but will force the event system to notify subscribers\n\t\t\t\tself.originEl.setAttribute(\"rotation\", self.originEl.getAttribute(\"rotation\")); //seems pointless, but will force the event system to notify subscribers\n\n\t\t\t\tself.originEl.emit(\"grabEnd\", e);\n\t\t\t\tself.originEl.removeState(\"moving\");\n\t\t\t}\n\t\t}\n\n\t\tfunction createProxyObject(cursorObject)\n\t\t{\n\t\t\tself.proxyObject = new THREE.Object3D();\n      self.originEl.visible = false;\n      //handle object momentary flicker at world origin\n      setTimeout(function(){\n        self.originEl.visible = true;\n      },1000);\n\t\t\tcursorObject.add(self.proxyObject);\n\t\t\tcopyTransform(self.originEl.object3D, self.proxyObject);\t\t\t\t\n\t\t}\n\t},\n\n\ttick: function()\n\t{\n\t\tvar self = this;\n\t\tif(self.proxyObject)\n\t\t{\n\t\t\tcopyTransform(self.proxyObject, self.originEl.object3D);\n\t\t\tself.originEl.setAttribute(\"position\", self.originEl.getAttribute(\"position\")); //seems pointless, but will force the event system to notify subscribers\n\t\t\t\tself.originEl.setAttribute(\"rotation\", self.originEl.getAttribute(\"rotation\")); //seems pointless, but will force the event system to notify subscribers\n\t\t}\n\t}\n})\n  \n})()","export default (function navpointer(){\n\n  AFRAME.registerComponent('nav-pointer', {\n  init: function () {\n    const el = this.el;\n// On click, send the NPC to the target location.\n    el.addEventListener('click',e=>{\n      const ctrlEl = el.sceneEl.querySelector('[nav-agent]');\n      if(ctrlEl) ctrlEl.setAttribute('nav-agent', {\n        active: true,\n        destination: e.detail.intersection.point\n      });\n    });\n    el.addEventListener('mouseenter',e=>{\n      el.setAttribute('material', {color: 'green'});\n    });\n    el.addEventListener('mouseleave',e=>{\n      el.setAttribute('material', {color: 'crimson'})\n    });\n    \n    el.addEventListener('mousedown',e=>{\n      //console.log(e);\n    });\n \n    // Refresh the raycaster after models load.\n    el.sceneEl.addEventListener('object3dset',e=>{\n      this.el.components.raycaster.refreshObjects();\n    });\n  }\n});\n  \n})()","var shaders = {};\nimport Polkadot_Shader from './Polkadot_Shader.json';\nshaders['Polkadot_Shader']=Polkadot_Shader;\nimport Sun_Shader from './Sun_Shader.json';\nshaders['Sun_Shader']=Sun_Shader;\nimport Jelly_Shader from './Jelly_Shader.json';\nshaders['Jelly_Shader']=Jelly_Shader;\nimport Green_Dance_Shader from './Green_Dance_Shader.json';\nshaders['Green_Dance_Shader']=Green_Dance_Shader;\nimport Cosmic_Shader from './Cosmic_Shader.json';\nshaders['Cosmic_Shader']=Cosmic_Shader;\n\nexport default(function shaderfrog(){\n  \n\nvar defaultThreeUniforms = [\n    'normalMatrix', 'viewMatrix', 'projectionMatrix', 'position', 'normal',\n    'modelViewMatrix', 'uv', 'uv2', 'modelMatrix'\n];\n\nfunction ShaderRuntime() {}\n\nShaderRuntime.prototype = {\n\n    mainCamera: null,\n    cubeCameras: {},\n\n    reserved: { time: null, cameraPosition: null },\n\n    umap: {\n        float: { type: 'f', value: 0 },\n        int: { type: 'i', value: 0 },\n        vec2: { type: 'v2', value() { return new THREE.Vector2(); } },\n        vec3: { type: 'v3', value() { return new THREE.Vector3(); } },\n        vec4: { type: 'v4', value() { return new THREE.Vector4(); } },\n        samplerCube: { type: 't' },\n        sampler2D: { type: 't' }\n    },\n\n    getUmap( type ) {\n        let value = this.umap[ type ].value;\n        return typeof value === 'function' ? value() : value;\n    },\n\n    registerCamera( camera ) {\n\n        if( !( camera instanceof THREE.Camera ) ) {\n            throw new Error( 'Cannot register a non-camera as a camera!' );\n        }\n\n        this.mainCamera = camera;\n\n    },\n\n    registerCubeCamera( name, camera ) {\n\n        if( !camera.renderTarget ) {\n            throw new Error( 'Cannot register a non-camera as a camera!' );\n        }\n\n        this.cubeCameras[ name ] = camera;\n\n    },\n\n    unregisterCamera( name ) {\n\n        if( name in this.cubeCameras ) {\n\n            delete this.cubeCameras[ name ];\n            \n        } else if( name === this.mainCamera ) {\n\n            delete this.mainCamera;\n\n        } else {\n\n            throw new Error( 'You never registered camera ' + name );\n\n        }\n\n    },\n\n    updateSource( identifier, config, findBy ) {\n\n        findBy = findBy || 'name';\n\n        if( !this.shaderTypes[ identifier ] ) {\n            throw new Error( 'Runtime Error: Cannot update shader ' + identifier + ' because it has not been added.' );\n        }\n\n        let newShaderData = this.add( identifier, config ),\n            shader, x;\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader[ findBy ] === identifier ) {\n                extend( shader.material, omit( newShaderData, 'id' ) );\n                shader.material.needsUpdate = true;\n            }\n        }\n\n    },\n\n    renameShader( oldName, newName ) {\n\n        let x, shader;\n\n        if( !( oldName in this.shaderTypes ) ) {\n            throw new Error('Could not rename shader ' + oldName + ' to ' + newName + '. It does not exist.');\n        }\n\n        this.shaderTypes[ newName ] = this.shaderTypes[ oldName ];\n        delete this.shaderTypes[ oldName ];\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader.name === oldName ) {\n                shader.name = newName;\n            }\n        }\n\n    },\n\n    get( identifier ) {\n\n        let shaderType = this.shaderTypes[ identifier ];\n\n        if( !shaderType.initted ) {\n\n            this.create( identifier );\n        }\n\n        return shaderType.material;\n\n    },\n\n    add( shaderName, config ) {\n\n        let newData = clone( config ),\n            uniform;\n        newData.fragmentShader = config.fragment;\n        newData.vertexShader = config.vertex;\n        delete newData.fragment;\n        delete newData.vertex;\n\n        for( var uniformName in newData.uniforms ) {\n            uniform = newData.uniforms[ uniformName ];\n            if( uniform.value === null ) {\n                newData.uniforms[ uniformName ].value = this.getUmap( uniform.glslType );\n            }\n        }\n        \n        if( shaderName in this.shaderTypes ) {\n            // maybe not needed? too sleepy, need document\n            extend( this.shaderTypes[ shaderName ], newData );\n        } else {\n            this.shaderTypes[ shaderName ] = newData;\n        }\n\n        return newData;\n\n    },\n\n    create( identifier ) {\n\n        let shaderType = this.shaderTypes[ identifier ];\n      \n        delete shaderType.id;\n\n        shaderType.material = new THREE.RawShaderMaterial( shaderType );\n\n        this.runningShaders.push( shaderType );\n\n        shaderType.init && shaderType.init( shaderType.material );\n        shaderType.material.needsUpdate = true;\n\n        shaderType.initted = true;\n\n        return shaderType.material;\n\n    },\n\n    updateRuntime( identifier, data, findBy ) {\n\n        findBy = findBy || 'name';\n\n        let shader, x, uniformName, uniform;\n\n        // This loop does not appear to be a slowdown culprit\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader[ findBy ] === identifier ) {\n                for( uniformName in data.uniforms ) {\n\n                    if( uniformName in this.reserved ) {\n                        continue;\n                    }\n\n                    if( uniformName in shader.material.uniforms ) {\n\n                        uniform = data.uniforms[ uniformName ];\n\n                        // this is nasty, since the shader serializes\n                        // CubeCamera model to string. Maybe not update it at\n                        // all?\n                        if( uniform.type === 't' && typeof uniform.value === 'string' ) {\n                            uniform.value = this.cubeCameras[ uniform.value ].renderTarget;\n                        }\n\n                        shader.material.uniforms[ uniformName ].value = data.uniforms[ uniformName ].value;\n                    }\n                }\n            }\n        }\n\n    },\n\n    // Update global shader uniform values\n    updateShaders( time, obj ) {\n\n        let shader, x;\n\n        obj = obj || {};\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n\n            for( let uniform in obj.uniforms ) {\n                if( uniform in shader.material.uniforms ) {\n                    shader.material.uniforms[ uniform ].value = obj.uniforms[ uniform ];\n                }\n            }\n\n            if( 'cameraPosition' in shader.material.uniforms && this.mainCamera ) {\n\n                shader.material.uniforms.cameraPosition.value = this.mainCamera.position.clone();\n\n            }\n\n            if( 'viewMatrix' in shader.material.uniforms && this.mainCamera ) {\n\n                shader.material.uniforms.viewMatrix.value = this.mainCamera.matrixWorldInverse;\n\n            }\n\n            if( 'time' in shader.material.uniforms ) {\n\n                shader.material.uniforms.time.value = time;\n\n            }\n\n        }\n\n    },\n\n    shaderTypes: shaders,\n\n    runningShaders: []\n\n};\n\n// Convenience methods so we don't have to include underscore\nfunction extend() {\n    let length = arguments.length,\n        obj = arguments[ 0 ];\n\n    if( length < 2 ) {\n        return obj;\n    }\n\n    for( let index = 1; index < length; index++ ) {\n        let source = arguments[ index ],\n            keys = Object.keys( source || {} ),\n            l = keys.length;\n        for( let i = 0; i < l; i++ ) {\n            let key = keys[i];\n            obj[ key ] = source[ key ];\n        }\n    }\n\n    return obj;\n}\n\nfunction clone( obj ) {\n    return extend( {}, obj );\n}\n\nfunction omit( obj, ...keys ) {\n    let cloned = clone( obj ), x, key;\n    for( x = 0; key = keys[ x++ ]; ) {\n        delete cloned[ key ];\n    }\n    return cloned;\n}\n  \nAFRAME.registerSystem('shader-frog', {\n  init:function(){\n    this.frog_runtime = new ShaderRuntime();\n    this.clock = new THREE.Clock();\n    var self = this;\n        \n    var scene = document.querySelector('a-scene');\n    if (scene.hasLoaded) {\n      registerCamera().bind(this);;\n    } else {\n      scene.addEventListener('loaded', registerCamera);\n    }\n    function registerCamera () {\n       var camera = document.querySelector(\"a-scene\").systems[\"camera\"];\n       if(camera && camera.sceneEl && camera.sceneEl.camera){\n         camera = camera.sceneEl.camera;\n         self.frog_runtime.registerCamera(camera);\n       }\n    }\n  },\n  tick: function (t) {\n    this.frog_runtime.updateShaders( this.clock.getElapsedTime() );\n  }\n});\nAFRAME.registerComponent('shader-frog',{\n  schema:{\n    name:{type:\"string\"}\n  },\n  init: function(){\n    this.originalMaterial = this.el.getObject3D('mesh').material;\n    this.shaderData = shaders[this.data.name];\n  },\n  update: function(){\n    this.system.frog_runtime.add(this.data.name,this.shaderData);\n    var material = this.system.frog_runtime.get(this.data.name);\n    this.el.getObject3D('mesh').material = material;\n  },\n  remove: function(){\n    this.el.getObject3D('mesh').material = this.originalMaterial;\n  }\n});\n  \n})()\n","const RingDial = function(container,labelText,labelColor='#e23fcf',gradientColor1='#78F8EC',gradientColor2='#6E4AE2') {\n    this.container = container;\n    this.size = window.innerWidth/9;\n    this.strokeWidth = this.size / 8;\n    this.radius = (this.size / 2) - (this.strokeWidth / 2);\n    this.value = 0;\n    this.direction = 'up';\n    this.svg;\n    this.defs;\n    this.slice;\n    this.overlay;\n    this.text;\n    this.label;\n    this.labelText = labelText;\n    this.arrow;\n    this.create(labelColor,gradientColor1,gradientColor2);\n}\n\nRingDial.prototype.create = function(labelColor,gradientColor1,gradientColor2) {\n    this.createSvg();\n    this.createDefs(gradientColor1,gradientColor2);\n    this.createSlice();\n    this.createOverlay();\n    this.createText(gradientColor2);\n    //this.createArrow();\n    this.createLabel(labelColor);\n    this.container.appendChild(this.svg);\n};\n\nRingDial.prototype.createSvg = function() {\n    var svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svg.setAttribute('width', this.size + 'px');\n    svg.setAttribute('height', this.size + 'px');\n    this.svg = svg;\n};\n\nRingDial.prototype.createDefs = function(gc1,gc2) {\n    var defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n    var linearGradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\");\n    linearGradient.setAttribute('id', 'gradient'+this.labelText);\n    var stop1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n    stop1.setAttribute('stop-color', gc2);\n    stop1.setAttribute('offset', '0%');\n    linearGradient.appendChild(stop1);\n    var stop2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n    stop2.setAttribute('stop-color', gc1);\n    stop2.setAttribute('offset', '100%');\n    linearGradient.appendChild(stop2);\n    var linearGradientBackground = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\");\n    linearGradientBackground.setAttribute('id', 'gradient-background');\n    var stop1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n    stop1.setAttribute('stop-color', 'rgba(0, 0, 0, 0.2)');\n    stop1.setAttribute('offset', '0%');\n    linearGradientBackground.appendChild(stop1);\n    var stop2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n    stop2.setAttribute('stop-color', 'rgba(0, 0, 0, 0.05)');\n    stop2.setAttribute('offset', '100%');\n    linearGradientBackground.appendChild(stop2);\n    defs.appendChild(linearGradient);\n    defs.appendChild(linearGradientBackground);\n    this.svg.appendChild(defs);\n    this.defs = defs;\n};\n\nRingDial.prototype.createSlice = function() {\n    var slice = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    slice.setAttribute('fill', 'none');\n    slice.setAttribute('stroke', `url(#gradient${this.labelText})`);\n    slice.setAttribute('stroke-width', this.strokeWidth);\n    slice.setAttribute('transform', 'translate(' + this.strokeWidth / 2 + ',' + this.strokeWidth / 2 + ')');\n    slice.setAttribute('class', 'animate-draw');\n    this.svg.appendChild(slice);\n    this.slice = slice;\n};\n\nRingDial.prototype.createOverlay = function() {\n    var r = this.size - (this.size / 2) - this.strokeWidth / 2;\n    var circle = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n    circle.setAttribute('cx', this.size / 2);\n    circle.setAttribute('cy', this.size / 2);\n    circle.setAttribute('r', r);\n    circle.setAttribute('fill', 'url(#gradient-background)');\n    this.svg.appendChild(circle);\n    this.overlay = circle;\n};\n\nRingDial.prototype.createText = function(c) {\n    var fontSize = this.size / 3.5;\n    var text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n    text.setAttribute('x', (this.size / 2) + fontSize / 7.5);\n    text.setAttribute('y', (this.size / 2) + fontSize / 4);\n    text.setAttribute('font-size', fontSize);\n    text.setAttribute('fill', c);\n    text.setAttribute('text-anchor', 'middle');\n    var tspanSize = fontSize / 3;\n    text.innerHTML = 0 + '<tspan font-size=\"' + tspanSize + '\" dy=\"' + -tspanSize * 1.2 + '\">%</tspan>';\n    this.svg.appendChild(text);\n    this.text = text;\n};\n\nRingDial.prototype.createLabel = function(c) {\n    let n=4.5;\n    if(this.labelText.length>8)n=7\n    var fontSize = this.size / n;\n    var text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n    text.setAttribute('x', this.size / 2);\n    text.setAttribute('y', (2*this.size / 3) + fontSize / (n-1));\n    text.setAttribute('font-family', 'Century Gothic, Lato');\n    text.setAttribute('font-size', fontSize);\n    text.setAttribute('fill', c);\n    text.setAttribute('text-anchor', 'middle');\n    var tspanSize = fontSize / 3;\n    text.innerHTML = this.labelText;\n    this.svg.appendChild(text);\n    this.label = text;\n};\n\nRingDial.prototype.createArrow = function() {\n    var arrowSize = this.size / 10;\n    var arrowYOffset, m;\n    if(this.direction === 'up') {\n        arrowYOffset = arrowSize / 2;\n        m = -1;\n    }\n    else if(this.direction === 'down') {\n        arrowYOffset = 0;\n        m = 1;\n    }\n    var arrowPosX = ((this.size / 2) - arrowSize / 2);\n    var arrowPosY = (this.size - this.size / 3) + arrowYOffset;\n    var arrowDOffset =  m * (arrowSize / 1.5);\n    var arrow = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    arrow.setAttribute('d', 'M 0 0 ' + arrowSize + ' 0 ' + arrowSize / 2 + ' ' + arrowDOffset + ' 0 0 Z');\n    arrow.setAttribute('fill', '#97F8F0');\n    arrow.setAttribute('opacity', '0.6');\n    arrow.setAttribute('transform', 'translate(' + arrowPosX + ',' + arrowPosY + ')');\n    this.svg.appendChild(arrow);\n    this.arrow = arrow;\n};\n\nRingDial.prototype.animateStart = function() {\n    var v = 0;\n    var self = this;\n    var intervalOne = setInterval(function() {\n        var p = +(v / self.value).toFixed(2);\n        var a = (p < 0.95) ? 2 - (2 * p) : 0.05;\n        v += a;\n        // Stop\n        if(v >= +self.value) {\n            v = self.value;\n            clearInterval(intervalOne);\n        }\n        self.setValue(v);\n    }, 10);\n};\n\nRingDial.prototype.animateTo = function(to) {\n    var v = this.value;\n    var self = this;\n    var intervalOne = setInterval(function() {\n        var p =  (v>to)? +(to /v).toFixed(2)  : +(v / to).toFixed(2);\n        var a = (p < 0.95) ? 2 - (2 * p) : 0.05;\n        if(to<v){\n          v -= a;\n            // Stop\n            if(v <= -to) {\n                self.value = to;\n                clearInterval(intervalOne);\n            }\n        }else {\n           v += a;\n            // Stop\n            if(v >= +to) {\n                self.value = to;\n                clearInterval(intervalOne);\n            }\n        }\n        self.setValue(v);\n    }, 10);\n};\n\nRingDial.prototype.animateReset = function() {\n    this.setValue(0);\n};\n\nRingDial.prototype.polarToCartesian = function(centerX, centerY, radius, angleInDegrees) {\n  var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;\n  return {\n    x: centerX + (radius * Math.cos(angleInRadians)),\n    y: centerY + (radius * Math.sin(angleInRadians))\n  };\n}\n\nRingDial.prototype.describeArc = function(x, y, radius, startAngle, endAngle){\n    var start = this.polarToCartesian(x, y, radius, endAngle);\n    var end = this.polarToCartesian(x, y, radius, startAngle);\n    var largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n    var d = [\n        \"M\", start.x, start.y, \n        \"A\", radius, radius, 0, largeArcFlag, 0, end.x, end.y\n    ].join(\" \");\n    return d;       \n}\n\nRingDial.prototype.setValue = function(value) {\t\n\t\tvar c = (value / 100) * 360;\n\t\tif(c === 360)\n\t\t\tc = 359.99;\n\t\tvar xy = this.size / 2 - this.strokeWidth / 2;\n\t\tvar d = this.describeArc(xy, xy, xy, 180, 180 + c);\n    this.slice.setAttribute('d', d);\n    var tspanSize = (this.size / 3.5) / 3;\n    this.text.innerHTML = Math.floor(value) + '<tspan font-size=\"' + tspanSize + '\" dy=\"' + -tspanSize * 1.2 + '\">%</tspan>';\n};\n\nexport default RingDial;","export default class Meter{\n\n  constructor(container,labelText='label',color='white',value=0,min=0,max=1,low=0.25,high=0.75,optimum=0.8){\n    this.widget = document.createElement('div');\n    this.widget.style.fontSize = window.innerWidth/9/4.5 + 'px';\n    this.widget.style.marginTop = window.innerWidth/81 + 'px';\n    this.widget.style.marginBottom = window.innerWidth/81 + 'px';\n    this.widget.style.color = color;\n    this.min = parseFloat(min);\n    this.max = parseFloat(max);\n    this.range = max-min;\n    this.el = document.createElement('meter');\n    this.el.setAttribute('value',value);\n    this.el.setAttribute('min',min);\n    this.el.setAttribute('max',max);\n    this.el.setAttribute('low',low);\n    this.el.setAttribute('high',high);\n    this.el.setAttribute('optimum',optimum);\n    this.el.style.width = window.innerWidth/8 + 'px';\n    this.el.style.height = window.innerWidth/32 + 'px';\n    this.widget.appendChild(this.el);\n    this.label = document.createElement('div');\n    this.label.style.textAlign = 'center';\n    this.label.innerHTML = labelText;\n    this.widget.appendChild(this.label);\n    container.appendChild(this.widget);\n  }\n  \n  animateTo(to) {\n      var v = parseFloat(this.el.getAttribute('value'));\n      var self = this.el;\n      self.range = this.range;\n      var intervalOne = setInterval(function() {\n          var p =  (v>to)? +(to /v).toFixed(4)  : +(v / to).toFixed(4);\n          var a = (p < 0.95) ? self.range/30 - (self.range/30 * p) : 0.003;\n          if(to<v){\n            \n            v -= a;\n              // Stop\n              if(v <= -to) {\n                  self.value = to\n                  clearInterval(intervalOne);\n              }\n          }else {\n             v += a;\n              // Stop\n              if(v >= +to) {\n                  self.value = to;\n                  clearInterval(intervalOne);\n              }\n          }\n          self.value = v;\n      }, 10);\n  };\n  \n\n\n}","let config = {\n  regions:{\n    top:true,\n    left:false,\n    right:false,\n    bottom:false\n  }\n}\n\nimport RingDial from './ring-dial';\nimport Meter from './meter';\n\nexport default CS1=>{\n\n  window.addEventListener('load', function () {\n    CS1.hud = {};\n    let hudElement = document.querySelector('#hud');\n    let containers = generateRegions(hudElement);\n    CS1.hud.healthDial = new RingDial(containers.top,'health','#ccc','white','red');\n    CS1.hud.statusDial = new RingDial(containers.top,'status','#ccc','white','lime');\n    CS1.hud.magicDial = new RingDial(containers.top,'magic','#ccc','white','#b45ef9');\n    CS1.hud.oxygenMeter = new Meter(containers.top,'oxygen','#ccc',0.9);\n    setInterval(e=>{\n      CS1.hud.healthDial.animateTo(100*Math.random());\n      CS1.hud.statusDial.animateTo(100*Math.random());\n      CS1.hud.magicDial.animateTo(100*Math.random());\n      CS1.hud.oxygenMeter.animateTo(Math.random());\n    },4000);\n  });\n  \n  function generateRegions(hudElement){\n   let containers = {};\n   if(config.regions.top){\n     let top = document.createElement('div');\n     top.style.position = 'relative';\n     top.style.left = '0px';\n     top.style.top = '0px';\n     top.style.width = window.innerWidth + 'px';\n     top.style.height = window.innerWidth/8 + 'px';\n     containers.top = top;\n     hudElement.appendChild(top);\n   }\n   if(config.regions.left){\n   \n   }\n   if(config.regions.right){\n   \n   }\n   if(config.regions.bottom){\n     let bottom = document.createElement('div');\n     bottom.style.position = 'absolute';\n     bottom.style.left = '0px';\n     bottom.style.top = window.innerHeight - window.innerWidth/8 + 'px';\n     bottom.style.width = window.innerWidth + 'px';\n     bottom.style.height = window.innerWidth/8 + 'px';\n     containers.bottom = bottom;\n     hudElement.appendChild(bottom);\n   }\n   return containers;\n  }\n  \n}\n\n","export default {\n gameName:\"The Kingdom of Castle Bridge\",\n // https://emojipedia.org/  leave as \"\" if you want no emoji\n emoji:\"ðŸ°\",\n // https://www141.lunapic.com/editor/  http://icoconvert.com/\n favicon:\"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2Fcoin.gif?1543018269225\",\n theme:{\n  // https://fonts.google.com/ examples: Kirang Haerang, Megrim, Permanent Marker, Orbitron, Monoton\n  fontFamily:\"New Rocker\",\n  titleFontColor:\"#f2d15c\",\n  formFontColor:\"white\",\n  formColor:\"#0f3917\",\n  overlayColor:\"rgba(0,0,0, 0.7)\",\n  fontSize:2\n },\n avatar:{\n  models:[\n    {\n      url:\"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_orange.glb?1543069720785\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'orange',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"red\",outerColor: \"white\"}\n    },\n    {\n      url:\"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_blue.glb?1543070759125\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'blue',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"blue\",outerColor: \"white\"}\n    },\n    {\n      url:\"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2FDragon_eyes.glb?1543064526277\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'black',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"black\",outerColor: \"white\"}\n    } \n    ],\n  buttonFaces: [\n    \"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_orange.png?1543070170738\",\n    \"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_blue.png?1543070754969\",\n    \"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2Fdragon.png?1543064467876\",\n  ],\n  buttonColor: '#fff',\n  speed: 140\n },\n sounds:{\n  playerJoined: {url:'https://cdn.glitch.com/46b18376-7fa5-4e04-bd26-296207b88a74%2Ffanfare_with_timpani.mp3?1546619687984'},\n  playerLeft: {url:'https://cdn.glitch.com/7f007e49-e78d-40b6-964d-097554282381%2Ffarewell.mp3?1545526194837'},\n  yay: {url:'https://cdn.glitch.com/162b879e-fd42-40d9-8519-671d783b8c70%2Fyay.mp3?1538839840045',loop:false,volume:0.8},\n  splashIn: {url:'https://cdn.glitch.com/b10e1289-ada6-412c-a444-83b2ee39c4a0%2FsplashIn.mp3?1544623314600',loop:false,volume:0.8},\n  splashOut: {url:'https://cdn.glitch.com/b10e1289-ada6-412c-a444-83b2ee39c4a0%2FsplashOut.mp3?1544623312237',loop:false,volume:0.8},\n  hyperspace: {url:'https://cdn.glitch.com/7f007e49-e78d-40b6-964d-097554282381%2Fhyperspace.mp3?1545441819724',loop:false,volume:1.0} \n },\n // https://github.com/feiss/aframe-environment-component\n environment:{\n  preset:\"default\",\n  seed:0.3,\n  shadow:true,\n  playArea:1, \n  shadow:true,\n  shadowSize:10,\n  dressing:\"\",\n  dressingAmount:10, \n  dressingColor:\"\",\n  dressingScale:15,\n  dressingVariance:\"20 30 40\",\n  dressingUniformScale:false,\n  fog:0.4, \n  flatShading:false,\n  skyType:\"\", \n  horizonColor:\"\", \n  skyColor:\"\",\n  ground:\"\",\n  groundYScale:5,\n  groundTexture:\"walkernoise\",\n  groundColor:\"#032d26\",\n  groundColor2:\"#564d19\",\n  grid:\"\",\n  gridColor:\"\",\n  lighting:\"\",\n  lightPosition:\"\"\n },\n //Soundcloud track numbers from share/embed code\n bgm:{\n  songs: [95999380],\n  volume: 0.05,\n  playAll: true,\n  initialDelay: 5000\n },\n releasePointerLockOnUI: true,\n //SEE REF. http://keycode.info/\n keys:{\n  toggleUI:'Equal',\n  nextSong:'KeyP',\n  toggleMute:'Digit0',\n  toggleCursor:'KeyC'\n },\n showCursor:false,\n //Run printVoices() in the game browser console\n voice:{\n   name:'Oliver',\n   // from 0.1 to 10\n   rate: 1,\n   // from 0 to 2\n   pitch: 1,\n   // from 0 to 1\n   volume: 1,\n   // delay in milliseconds \n   welcomeDelay: 2000\n },\n physics:{\n   //This gravity affects the players\n   gravity: -9.8,\n   maxGrabDistance: 40,\n   //These objects are not affected by gravity or collisions, but you can grab and move them\n   // https://github.com/aframevr/aframe/blob/master/docs/components/geometry.md\n   // These objects require a unique name.\n   objects:[\n      {name:'Blue Sphere', geometry:'primitive: sphere; radius: 2',position:'50 75 -40',color:'#00f'},\n      {name:'Red Sphere', geometry:'primitive: sphere; radius: 2',position:'60 75 -40',color:'#f00'},\n      {name:'Green Sphere', geometry:'primitive: sphere; radius: 2',position:'70 75 -40',color:'#0f0'}\n    ]\n },\n collectibles:{\n   itemDefs:[\n     {type:'doge_coin',scale:'0.4 0.4 0.4',rotation:'0 0 0',threshold:3,\n      positions:['15 0 -30','-15 0 -30','12 0 -35','-12 0 -35','9 0 -40','-9 0 -40','6 0 -45','-6 0 -45',\n                '15 0 -65','-15 0 -65','12 0 -60','-12 0 -60','9 0 -55','-9 0 -55','6 0 -50','-6 0 -50'],\n      url:'https://cdn.glitch.com/14597f75-728f-4d7e-bbd2-202118ee70e0%2Fdoge_coin.glb?1542836614183',\n      collectSound:{url:'https://cdn.glitch.com/14597f75-728f-4d7e-bbd2-202118ee70e0%2Fcollect_bark_.mp3?1542837713162',volume:1},\n      collectParticles:{type:'magic',color:'#fff',scale:4},\n      callback:{name:'addPoints',params:{amount:100}},animation:{type:'rotY'}\n     }  \n   ]\n },\n readouts:{\n   itemDefs:[\n     {type:'scoreboard',scale:'16 10 0.1',color:'#a80003',\n      positions:['-79 48 -30','50 48 -30'],\n      rotations:['0 30 0','0 30 0'],\n      textAttributes:{value:'Welcome to\\nCastle Bridge',color:'white',scale:'9 9 1',align:'center',shader:'msdf',\n                      position:'0 -1.5 0',\n                      font:'https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/newrocker/NewRocker-Regular.json'}\n     },\n     {type:'instructions',scale:'4 1.5 0.1',color:'#a80003',\n      positions:['1 2 -35'],\n      rotations:['0 0 0'],\n      textAttributes:{value:\n`Ye Olde Game Instructions:\n=========================\n1) Collect Doge Coins to earn credits.\n2) Spend your credits to ride the teleporters.\n3) Be Friendly!`,color:'white',scale:'0.7 0.7 1',align:'left',shader:'msdf',\n                      position:'-1.5 0 0',\n                      font:'https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/newrocker/NewRocker-Regular.json'}\n     }  \n   ]\n },\n mobile:{\n   thruster_icon: \"https://cdn.glitch.com/162b879e-fd42-40d9-8519-671d783b8c70%2Fjump_fly_btn.png\",\n   joystick_outer_color: \"rgba(5, 31, 101, 0.2)\",\n   joystick_inner_color: \"rgba(5, 31, 101, 0.4)\"\n },\n vr: false\n}","import config from './client-config';\nexport default CS1=>{AFRAME.registerComponent('game', {\n  schema: {mode:{type: 'string',default:'standard'}},\n  init: function () {\n    CS1.game = this;\n    this.hasBegun = false;\n    this.config = config;\n    document.querySelector('#scene-container').style.display='block';\n    document.querySelector('#loading-screen').style.display='none';\n  },\n  tick: function (time,dt) {\n    \n  }\n});}","export default CS1=>{\n  let socket = CS1.socket = io();\n  socket.on('connect',()=>{\n    console.log(`socket connected with id: ${socket.id}`);\n    console.log('Client.js can initialize my playerData now.');\n    socket.playerData = {position:{},rotation:{},faceIndex:0};\n    socket.lastPlayerData = {position:{},rotation:{},faceIndex:0};\n    \n    CS1.game.login = (un,pw)=>{\n      socket.emit('login',{name:un,pw:pw});\n    }\n    socket.on('login-results',data=>{\n      console.log(data);\n      if(data.success) document.querySelector('#login').style.zIndex = -1;\n      else document.getElementById('login-msg').innerHTML = data.msg;\n    });\n    \n  });\n}","export default(()=>{\nwindow.onload = e=>{\n  let loginHTML = `\n<div class=\"modal fade\" id=\"login-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: block;\">\n    <div class=\"modal-dialog\">\n\t\t  <div class=\"loginmodal-container\">\n\t\t\t\t\t<h1>CS1</h1><br>\n\t\t\t\t  <form id=\"login-form\">\n\t\t\t\t\t  <input id=\"name\" type=\"text\" name=\"user\" placeholder=\"Username\">\n\t\t\t\t\t  <input id=\"pw\" type=\"password\" name=\"pass\" placeholder=\"Password\">\n\t\t\t\t\t  <input id=\"login-submit\" type=\"submit\" name=\"login\" class=\"login loginmodal-submit\" >\n            <div id='login-msg'></div>\n\t\t\t\t  </form>\n\t\t\t</div>\n\t</div>\n</div>\n`\n let loginContainer = document.querySelector('#login');\n loginContainer.innerHTML = loginHTML;\n setTimeout(e=>{\n   if(!(CS1 && CS1.socket.connected)){\n     document.getElementById('login-msg').innerHTML = 'OFFLINE MODE';\n     document.getElementById('login-submit').setAttribute('value','Play Game Offline');\n   }\n },1000);\n document.getElementById('login-form').addEventListener(\"submit\",function(e) {\n    e.preventDefault(); \n    if(!(CS1 && CS1.socket.connected)){\n      loginContainer.style.zIndex = -1;\n    }\n    else if(document.getElementById('name').value.length > 0 && document.getElementById('pw').value.length > 0){\n      CS1.game.login(document.getElementById('name').value,document.getElementById('pw').value);\n      document.getElementById('name').value = '';\n      document.getElementById('pw').value = '';\n    }\n  });\n  \n}\n  \n})()\n","let CS1 = window.CS1 = {};\nimport loadSpinner from './load-spinner';\nimport './load-spinner.css';\nimport grabbable from './grabbable';\nimport navpointer from './nav-pointer';\nimport shaderfrog from './shader-frog';\nimport hud from './hud';\nimport './hud.css';\nhud(CS1);\nimport game from './game';\ngame(CS1);\nimport socket from './client-socket';\nsocket(CS1);\nimport './main.css';\nimport login from './login';\nimport './login.css';\n\nconsole.log(\"FIRING UP THE MAINS!\");\n\n  \n\n  "],"names":["window","addEventListener","console","log","loadSpinner","document","createElement","className","i","appendChild","style","left","innerWidth","loadingScreen","querySelector","width","height","innerHeight","copyTransform","scratchMat","THREE","Matrix4","source","destination","matrix","copy","matrixWorld","applyMatrix","getInverse","parent","AFRAME","registerComponent","schema","origin","type","init","grab","e","cancelBubble","isDragging","cursor","detail","cursorEl","self","el","sceneEl","setAttribute","setTimeout","createProxyObject","object3D","originEl","emit","addState","release","proxyObject","remove","getAttribute","removeState","cursorObject","Object3D","visible","add","this","data","classList","utils","device","isMobile","tick","ctrlEl","active","intersection","point","color","components","raycaster","refreshObjects","shaders","Polkadot_Shader","Sun_Shader","Jelly_Shader","Green_Dance_Shader","Cosmic_Shader","ShaderRuntime","extend","length","arguments","obj","index","keys","Object","l","key","clone","omit","x","cloned","prototype","mainCamera","cubeCameras","reserved","time","cameraPosition","umap","float","value","int","vec2","[object Object]","Vector2","vec3","Vector3","vec4","Vector4","samplerCube","sampler2D","camera","Camera","Error","name","renderTarget","identifier","config","findBy","shaderTypes","shader","newShaderData","runningShaders","material","needsUpdate","oldName","newName","shaderType","initted","create","shaderName","uniform","newData","fragmentShader","fragment","vertexShader","vertex","uniformName","uniforms","getUmap","glslType","id","RawShaderMaterial","push","position","viewMatrix","matrixWorldInverse","registerSystem","registerCamera","systems","frog_runtime","clock","Clock","scene","hasLoaded","bind","t","updateShaders","getElapsedTime","originalMaterial","getObject3D","shaderData","update","system","get","RingDial","container","labelText","labelColor","gradientColor1","gradientColor2","size","strokeWidth","radius","direction","svg","defs","slice","overlay","text","label","arrow","createSvg","createDefs","createSlice","createOverlay","createText","createLabel","createElementNS","gc1","gc2","linearGradient","stop1","stop2","linearGradientBackground","r","circle","c","fontSize","tspanSize","innerHTML","n","createArrow","arrowYOffset","m","arrowSize","arrowPosX","arrowPosY","arrowDOffset","animateStart","v","intervalOne","setInterval","p","toFixed","clearInterval","setValue","animateTo","to","a","animateReset","polarToCartesian","centerX","centerY","angleInDegrees","angleInRadians","Math","PI","cos","y","sin","describeArc","startAngle","endAngle","start","end","largeArcFlag","join","xy","d","floor","Meter","min","max","low","high","optimum","widget","marginTop","marginBottom","parseFloat","range","textAlign","CS1","generateRegions","hudElement","containers","top","hud","healthDial","statusDial","magicDial","oxygenMeter","random","gameName","emoji","favicon","theme","fontFamily","titleFontColor","formFontColor","formColor","overlayColor","avatar","models","url","scale","yOffset","animations","idle","msg","offset","thruster","innerColor","outerColor","buttonFaces","buttonColor","speed","sounds","playerJoined","playerLeft","yay","loop","volume","splashIn","splashOut","hyperspace","environment","preset","seed","shadow","playArea","shadowSize","dressing","dressingAmount","dressingColor","dressingScale","dressingVariance","dressingUniformScale","fog","flatShading","skyType","horizonColor","skyColor","ground","groundYScale","groundTexture","groundColor","groundColor2","grid","gridColor","lighting","lightPosition","bgm","songs","playAll","initialDelay","releasePointerLockOnUI","toggleUI","nextSong","toggleMute","toggleCursor","showCursor","voice","rate","pitch","welcomeDelay","physics","gravity","maxGrabDistance","objects","geometry","collectibles","itemDefs","rotation","threshold","positions","collectSound","collectParticles","callback","params","amount","animation","readouts","rotations","textAttributes","align","font","mobile","thruster_icon","joystick_outer_color","joystick_inner_color","vr","mode","default","game","hasBegun","display","dt","socket","io","on","playerData","faceIndex","lastPlayerData","login","un","pw","success","zIndex","getElementById","onload","loginContainer","connected","preventDefault"],"mappings":"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"}